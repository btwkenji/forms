<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>go + htmx</title>
        <script src="https://unpkg.com/htmx.org/dist/htmx.js"></script>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="container mx-auto bg-gray-950 p-4" align="center">
        {{ template "contact-form" .Form }}
        <hr />
        {{ template "display" .Data }}

        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", (event) => {
                document.body.addEventListener('htmx:beforeSwap', function (evt) {
                    if (evt.detail.xhr.status === 422) {
                        console.log("setting status to paint");
                        evt.detail.shouldSwap = true;
                        evt.detail.isError = false;
                    }
                });
            });
        </script>
    </body>
</html>
